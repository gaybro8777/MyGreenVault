<form [formGroup]="saleForm" (ngSubmit)="sellProduct()">
  <div class="d-flex justify-content-end">
    <div class="btn-group btn-group-toggle" ngbRadioGroup name="radioBasic" formControlName="isQuantity">
      <label ngbButtonLabel class="btn-primary">
        <input ngbButton type="radio" [value]="true"> Qty
      </label>
      <label ngbButtonLabel class="btn-primary">
        <input ngbButton type="radio" [value]="false"> Weight
      </label>
    </div>
  </div>
  <div class="form-group">
    <div class="d-flex align-items-center mb-2">
      <label class="mr-2">{{ unitLabel }}</label>
      <select class="form-control col-sm-3 " *ngIf="isWeight" formControlName="unit">
        <option [value]="Unit.grams">(Grams)</option>
        <option [value]="Unit.pounds">(Lbs)</option>
        <option [value]="Unit.kilograms">(Kgs)</option>
      </select>
    </div>
    <div class="input-group mb-3" *ngIf="isWeight">
      <input id="weight" type="number" formControlName="weight" class="form-control">
      <div class="input-group-append">
        <span class="input-group-text">{{ unitCode | unit }}</span>
      </div>
    </div>
    <input id="quantity" formControlName="quantity" *ngIf="isQuantity" class="form-control">
    <div *ngIf="weight.invalid && (weight.touched || weight.dirty)" class="alert alert-danger mt-1">
      <p *ngIf="weight.errors.required" class="mb-0">Weight is required</p>
    </div>
    <div *ngIf="quantity.invalid && (quantity.touched || quantity.dirty)" class="alert alert-danger mt-1">
      <p *ngIf="quantity.errors.required" class="mb-0">Quantity is required</p>
    </div>
  </div>
  <div class="form-group">
    <label>Cost</label>
    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <span class="input-group-text">$</span>
      </div>
      <input formControlName="cost" type="number" class="form-control">
      <div class="input-group-append">
        <span class="input-group-text">.00</span>
      </div>
    </div>

    <div *ngIf="cost.invalid && (cost.touched || cost.dirty)" class="alert alert-danger mt-1">
      <p *ngIf="cost.errors.required" class="mb-0">Cost is required</p>
    </div>
  </div>
  <button type="submit" class="btn btn-primary" [hidden]="!showSellButton">
    <i class='fa fa-spinner fa-spin' *ngIf="sellingPlantLoading$ | async"></i>
    Submit
  </button>
</form>
